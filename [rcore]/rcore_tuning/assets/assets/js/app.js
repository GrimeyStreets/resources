(function(e){function t(t){for(var s,r,l=t[0],a=t[1],c=t[2],d=0,p=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,l=1;l<n.length;l++){var a=n[l];0!==i[a]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},i={app:0},o=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/assets/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=a;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),i=n.n(s);i.a},"0ddd":function(e,t,n){"use strict";var s=n("7e97"),i=n.n(s);i.a},"1d2e":function(e,t,n){},"2f35":function(e,t,n){},3427:function(e,t,n){"use strict";var s=n("7fd8"),i=n.n(s);i.a},3645:function(e,t,n){"use strict";var s=n("555a"),i=n.n(s);i.a},"3a27":function(e,t,n){},"3b21":function(e,t,n){"use strict";var s=n("2f35"),i=n.n(s);i.a},"3f30":function(e,t,n){"use strict";var s=n("fdc1"),i=n.n(s);i.a},"43c3":function(e,t,n){"use strict";var s=n("c51f"),i=n.n(s);i.a},"555a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"app-closed":!e.isShown,"app-visible":e.isShown},attrs:{id:"app"},on:{mouseover:function(t){return e.onMouseOver()},mouseleave:function(t){return e.onMouseLeave()}}},[n("Tuning",{ref:"tuning"}),n("ConfirmSelection",{on:{cancelSelection:e.cancelSelection}}),n("DragHint",{attrs:{"should-hint-be-visible":!e.hasPanned}})],1)},o=[],r=n("1157");function l(){r["post"]("https://rcore_tuning/close")}function a(){r["post"]("https://rcore_tuning/order")}function c(){r["post"]("https://rcore_tuning/confirmSelection")}function u(){r["post"]("https://rcore_tuning/upDownSound")}function d(e,t,n){r["post"]("https://rcore_tuning/previewTuning",JSON.stringify({modName:e,modType:t,index:n}))}function p(){r["post"]("https://rcore_tuning/unsetPreview")}function h(e,t){r["post"]("https://rcore_tuning/mousePan",JSON.stringify({x:e,y:t}))}function v(){r["post"]("https://rcore_tuning/startMousePan")}function f(){r["post"]("https://rcore_tuning/changeCamera")}function m(){r["post"]("https://rcore_tuning/soundHorn")}function g(){r["post"]("https://rcore_tuning/stopHorn")}function L(){r["post"]("https://rcore_tuning/clickLights")}var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"tuning-menu":!0,"left-side":"right"!=e.side,"right-side":"right"==e.side}},[n("TuningTitle"),n("div",{staticClass:"tuning-categories"},[n("CategoryList",{attrs:{grow:!e.selectedLevel1&&!e.selectedLevel2}},e._l(e.tuningCategories,(function(t){return n("CategoryListItem",{key:t.name,attrs:{small:e.selectedLevel1,label:t.label,icon:"cat1/"+t.name+".png",active:t.name==e.selectedLevel1,"is-unlocked":!0},on:{click:function(n){return e.selectLevel1(t.name)}}})})),1),e.selectedLevel1?n("CategoryList",{attrs:{grow:e.selectedLevel1&&!e.selectedLevel2}},[e.selectedLevel1&&!e.selectedLevel2?n("div",{staticClass:"option-header"},[n("div",{staticClass:"back",on:{click:e.unsetLevel1}}),n("div",{staticClass:"option-name"},[e._v(e._s(e.tuningLevel1Options.label))])]):e._e(),e._l(e.tuningLevel1Options.items,(function(t){return n("CategoryListItem",{key:t.modName,attrs:{small:e.selectedLevel1&&e.selectedLevel2,label:t.label,icon:"cat2/"+t.modName+".png",active:t.modName==e.selectedLevel2,"is-unlocked":e.isShopUpgradeUnlocked(t)},on:{click:function(n){return e.selectLevel2(t.modName)}}})}))],2):e._e(),e.has3Levels&&e.selectedLevel1&&e.selectedLevel2?n("CategoryList",{attrs:{grow:e.selectedLevel1&&e.selectedLevel2&&!e.selectedLevel3}},[e.selectedLevel1&&e.selectedLevel2&&!e.selectedLevel3?n("div",{staticClass:"option-header"},[n("div",{staticClass:"back",on:{click:e.unsetLevel2}}),n("div",{staticClass:"option-name"},[e._v(e._s(e.tuningLevel2Options.label))])]):e._e(),e._l(e.tuningLevel2Options.items,(function(t){return n("CategoryListItem",{key:t.modName+t.label,attrs:{small:e.selectedLevel1&&e.selectedLevel2&&e.selectedLevel3,label:t.label,icon:"cat2/"+t.modName+".png",active:t.modName==e.selectedLevel3,"icon-color":e.isColor?t.modName:null,"is-unlocked":e.isShopUpgradeUnlocked(t)},on:{click:function(n){return e.selectLevel3(t.modName)}}})}))],2):e._e(),e.has3Levels&&e.selectedLevel1&&e.selectedLevel2&&e.selectedLevel3?n("CategoryList",{attrs:{grow:e.selectedLevel1&&e.selectedLevel2&&e.selectedLevel3}},[n("div",{staticClass:"option-header"},[n("div",{staticClass:"back",on:{click:e.unsetLevel3}}),n("div",{staticClass:"option-name"},[e._v(e._s(e.tuningLevel2Options.label))])]),e._l(e.tuningLevel3Options.items,(function(t){return n("CategoryListOptionItem",{key:t.label+t.index,attrs:{label:t.label,price:t.price,"is-installed":e.isTuningOptionInstalled(t.index),"is-active":e.isOptionPreviewed(t.index),"is-ordered":e.isOptionOrdered(t.index),"is-unlocked":!0},on:{select:function(n){return e.previewTuningOption(t.index)}}})})),e.isColorTypeSelected&&"rgb"==e.selectedLevel3?n("ColorPicker",{attrs:{grow:e.selectedLevel1&&e.selectedLevel2&&!e.selectedLevel3,type:e.selectedLevel2},on:{select:e.previewTuningOption}}):e._e()],2):e._e(),!e.has3Levels&&e.selectedLevel1&&e.selectedLevel2?n("CategoryList",{attrs:{grow:e.selectedLevel1&&e.selectedLevel2}},e._l(e.tuningLevel2OptionsItems,(function(t){return n("CategoryListOptionItem",{key:t.label+t.index,attrs:{label:t.label,price:t.price,"is-installed":e.isTuningOptionInstalled(t.index),"is-active":e.isOptionPreviewed(t.index),"is-ordered":e.isOptionOrdered(t.index),"is-unlocked":!0},on:{select:function(n){return e.previewTuningOption(t.index)}}})})),1):e._e()],1),n("TuningBottom"),n("ActionButtons")],1)},C=[],w=(n("4de4"),n("b0c0"),n("b85c")),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tuning-header"},[n("div",{staticClass:"tuning-header-1"},[e._v(e._s(e.translations.NUI_TITLE))]),n("div",{staticClass:"tuning-header-2"},[e._v(e._s(e.translations.NUI_TITLE))]),n("div",{staticClass:"tuning-header-3"},[e._v(e._s(e.translations.NUI_TITLE))])])},b=[],T={computed:{translations:function(){return this.$store.state.translations}}},O=T,U=(n("cb31"),n("2877")),I=Object(U["a"])(O,y,b,!1,null,"e6d71398",null),N=I.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"category-list":!0,"flex-grow":e.grow}},[e._t("default")],2)},P=[],_={props:["grow"],methods:{}},S=_,E=(n("0ddd"),Object(U["a"])(S,M,P,!1,null,"21b173de",null)),k=E.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"color-picker":!0,"flex-grow":e.grow}},[e._t("default"),n("div",{staticClass:"color-input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputColor,expression:"inputColor"}],staticClass:"color-input-input",attrs:{type:"text",maxlength:"7"},domProps:{value:e.inputColor},on:{input:[function(t){t.target.composing||(e.inputColor=t.target.value)},e.onInputChanged]}})]),n("div",{staticClass:"color-picker-wrapper"},[n("color-picker",{attrs:{width:200,height:200},on:{"color-change":e.onChanged},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)],2)},R=[],j=(n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("1e8a"));function W(e){var t,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Number.NEGATIVE_INFINITY;return function(){for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];t=o+s-Date.now(),clearTimeout(n),(t<=0||i)&&(n=setTimeout((function(){e.apply(void 0,l),o=Date.now()}),t))}}function V(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function F(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function Y(e,t,n){return"#"+F(e)+F(t)+F(n)}var H={props:["grow","type"],emits:["select"],components:{ColorPicker:j["a"]},data:function(){return{color:null,inputColor:null}},created:function(){var e=this;this.throttledChange=W((function(t){"#"!=t[0]&&(t="#"+t);var n=V(t);n&&(e.color=t,e.inputColor=t,e.$emit("select",[n.r,n.g,n.b]))}),100,!0),this.setInitialColor()},mounted:function(){this.setInitialColor()},methods:{onChanged:function(e){this.throttledChange(e)},onInputChanged:function(e){this.throttledChange(e.target.value)},setInitialColor:function(){var e=this.installedUpgrades[this.type];Array.isArray(e)?this.color=Y(e[0],e[1],e[2]):this.color="#ff0000"}},computed:{installedUpgrades:function(){return this.$store.state.installedUpgrades}}},B=H,X=(n("3645"),Object(U["a"])(B,x,R,!1,null,"8cc8b8b0",null)),q=X.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"category-list-item":!0,active:e.active,unlocked:e.isUnlocked},on:{click:function(t){return e.select()}}},[n("div",{staticClass:"category-item-left",on:{mouseenter:e.onEnter,mouseleave:e.onLeave}},[e.isUnlocked?n("ItemIcon",{attrs:{"icon-path":e.publicPath+"icon/"+e.icon,name:e.label,"icon-color":e.iconColor}}):n("ItemIcon",{attrs:{"icon-path":e.publicPath+"lock.png",name:e.label}})],1),e.small?e._e():n("div",{staticClass:"category-item-right"},[n("div",[e._v(e._s(e.label))])])])},J=[],K=function(){var e,t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"icon-container"},[t.iconColor?t._e():s("img",{attrs:{src:t.iconPath,alt:""},on:{load:t.onImgLoad}}),t.iconLoaded||t.iconColor?t._e():s("span",{staticClass:"icon-text"},[t._v(t._s(t.formatIconText))]),t.iconColor?s("div",{class:(e={"icon-color":!0},e[t.iconColor]=!0,e)}):t._e()])},z=[],Q=(n("1276"),{props:["iconPath","name","iconColor"],data:function(){return{iconLoaded:!1}},computed:{formatIconText:function(){var e=this.name.split(" ");return e.length>=2?e[0][0]+e[1][0].toUpperCase():this.name[0]+this.name[1]}},methods:{onImgLoad:function(){this.iconLoaded=!0}}}),D=Q,$=(n("43c3"),Object(U["a"])(D,K,z,!1,null,"7e778817",null)),Z=$.exports,ee={props:["label","icon","small","active","iconColor","isUnlocked"],components:{ItemIcon:Z},data:function(){return{publicPath:"/assets/"}},methods:{select:function(){this.isUnlocked&&this.$emit("click")},onEnter:function(){this.isUnlocked&&this.$emit("enter")},onLeave:function(){this.isUnlocked&&this.$emit("leave")}}},te=ee,ne=(n("6bd7"),Object(U["a"])(te,G,J,!1,null,"7f6b1ad4",null)),se=ne.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"category-list-option-item",class:{unlocked:e.isUnlocked},on:{click:e.select}},[s("div",{staticClass:"option-item-checkbox"},[!e.isInstalled&&e.isUnlocked?s("div",{class:{checkbox:!0,active:e.isActive,ordered:e.isOrdered}}):e._e(),e.isInstalled?s("div",{staticClass:"is-installed"},[s("img",{attrs:{src:n("b48b")}})]):e._e(),e.isUnlocked?e._e():s("ItemIcon",{attrs:{"icon-path":e.publicPath+"lock.png",name:e.label}})],1),s("div",{staticClass:"option-item-name"},[e._v(" "+e._s(e.label)+" ")]),e.getShowPrices?s("div",{staticClass:"option-item-price"},[s("span",{staticClass:"monospace-price"},[e._v(e._s(e.price))])]):e._e()])},oe=[],re={props:["label","price","isActive","isInstalled","isOrdered","isUnlocked"],computed:{getShowPrices:function(){return!!this.$store.state.controllingShop||this.$store.state.showPrices}},methods:{select:function(){this.isUnlocked&&this.$emit("select")}}},le=re,ae=(n("3427"),Object(U["a"])(le,ie,oe,!1,null,"7e77205f",null)),ce=ae.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tuning-bottom"},[n("div",{staticClass:"total-price"},[e.getShowPrices?[n("span",{staticClass:"total"},[e._v(e._s(e.translations.NUI_TOTAL)+":")]),n("span",{staticClass:"total-price-text"},[e._v(e._s(e.totalCost))])]:e._e()],2),n("div",{staticClass:"bottom-buttons"},[n("button",{staticClass:"close",on:{click:e.close}},[e._v(" "+e._s(e.translations.NUI_CLOSE)+" ")]),n("button",{staticClass:"order",on:{click:e.order}},[e._v(" "+e._s(e.translations.NUI_ORDER)+" ")])])])},de=[],pe={computed:{totalCost:function(){return this.$store.state.totalPrice},translations:function(){return this.$store.state.translations},getShowPrices:function(){return!!this.$store.state.controllingShop||this.$store.state.showPrices}},methods:{close:function(){l()},order:function(){a()}}},he=pe,ve=(n("ebd8"),Object(U["a"])(he,ue,de,!1,null,"57e9ec4d",null)),fe=ve.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"action-buttons"},[n("div",{staticClass:"button",on:{click:e.changeCamera}},[e._v(" "+e._s(e.translations.NUI_CHANGE_CAMERA)+" ")]),n("div",{staticClass:"button",on:{mousedown:e.hornDown,mouseup:e.hornUp}},[e._v(" "+e._s(e.translations.NUI_PLAY_HORN)+" ")]),n("div",{staticClass:"button",on:{click:e.changeLights}},[e._v(" "+e._s(e.translations.NUI_LIGHTS)+" ")])])},ge=[],Le={computed:{translations:function(){return this.$store.state.translations}},methods:{changeCamera:function(){f()},hornDown:function(){m()},hornUp:function(){g()},changeLights:function(){L()}}},Ae=Le,Ce=(n("e725"),Object(U["a"])(Ae,me,ge,!1,null,"2db496a8",null)),we=Ce.exports,ye={components:{TuningTitle:N,CategoryList:k,CategoryListItem:se,CategoryListOptionItem:ce,TuningBottom:fe,ActionButtons:we,ColorPicker:q},data:function(){return{selectedLevel1:null,selectedLevel2:null,selectedLevel3:null}},computed:{isColorTypeSelected:function(){if(!this.selectedLevel2)return!1;switch(this.selectedLevel2){case"primaryRespray":return!0;case"secondaryRespray":return!0;default:return!1}},isColor:function(){return"resprays"==this.selectedLevel1||"modFrontWheelsColor"==this.selectedLevel2},has3Levels:function(){return"resprays"==this.selectedLevel1||"modFrontWheelsColor"==this.selectedLevel2||"modFrontWheelsTypes"==this.selectedLevel2||"menu_lights"==this.selectedLevel2},tuningCategories:function(){return this.$store.state.tuningOptions},side:function(){return this.$store.state.side},installedUpgrades:function(){return this.$store.state.installedUpgrades},orderedUpgrades:function(){return this.$store.state.orderedUpgrades},purchasedShopUpgrades:function(){return this.$store.state.purchasedShopUpgrades},tuningLevel1Options:function(){var e,t=Object(w["a"])(this.tuningCategories);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.name==this.selectedLevel1)return n}}catch(s){t.e(s)}finally{t.f()}return{items:[]}},tuningLevel2Options:function(){var e,t=Object(w["a"])(this.tuningLevel1Options.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.modName==this.selectedLevel2)return n}}catch(s){t.e(s)}finally{t.f()}return[]},tuningLevel2OptionsItems:function(){var e=this.getInstalledWheelType(),t=this.getOrderedWheelType();return this.tuningLevel2Options.items.filter((function(n){if(!n.wheelTypeDependant)return!0;var s,i=Object(w["a"])(n.allowedWheelTypes);try{for(i.s();!(s=i.n()).done;){var o=s.value;if(t){if(t==o)return!0}else if(e&&e==o)return!0}}catch(r){i.e(r)}finally{i.f()}return!1}))},tuningLevel3Options:function(){var e,t=Object(w["a"])(this.tuningLevel2Options.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.modName==this.selectedLevel3)return n}}catch(s){t.e(s)}finally{t.f()}return[]},previewModName:function(){return this.$store.state.previewModName},previewModType:function(){return this.$store.state.previewModType},previewModTypeIndex:function(){return this.$store.state.previewModTypeIndex}},methods:{getInstalledWheelType:function(){var e=this,t="modFrontWheelsTypeRear",n=function(t){var n=e.installedUpgrades[t];return null!==n&&void 0!==n&&n>=0};if(this.selectedLevel3===t&&!0===n(t))return t;for(var s=0;s<=12;s++){var i="modFrontWheelsType".concat(s);if(n(i))return i}return null},getOrderedWheelType:function(){var e=this,t="modFrontWheelsTypeRear",n=function(t){var n=e.orderedUpgrades[t];return null!==n&&void 0!==n&&n>=0};if(this.selectedLevel3===t&&!0===n(t))return t;for(var s=0;s<=12;s++){var i="modFrontWheelsType".concat(s);if(n(i))return i}return null},isTuningOptionInstalled:function(e){var t=this.selectedLevel2,n=!1;if("modFrontWheelsTypes"==this.selectedLevel2){var s=this.getInstalledWheelType();if(s&&(n=!0,t=s),!n&&-1==e)return!0}return"modXenon"===this.selectedLevel3||"modXenonColor"===this.selectedLevel3?this.installedUpgrades[this.selectedLevel3]==e:(!n||this.selectedLevel3==t)&&this.installedUpgrades[t]==e},isOptionOrdered:function(e){var t=this.selectedLevel2,n=!1;if("modFrontWheelsTypes"==this.selectedLevel2){var s=this.getOrderedWheelType();s&&(n=!0,t=s)}return"modXenon"===this.selectedLevel3||"modXenonColor"===this.selectedLevel3?this.orderedUpgrades[this.selectedLevel3]==e:(!n||this.selectedLevel3==t)&&this.orderedUpgrades[t]==e},isOptionPreviewed:function(e){return this.$store.state.previewModName==this.getSelectedModName()&&this.$store.state.previewModTypeIndex==e},isShopUpgradeUnlocked:function(e){if("primaryRespray"===e.modName||"secondaryRespray"===e.modName||"pearlescentRespray"===e.modName||"interiorRespray"===e.modName||"dashboardRespray"===e.modName||"modFrontWheelsColor"===e.modName)for(var t=0;t<e.items.length;t++)if(e.items[t].unlocked)return!0;if(e.unlocked)return!0;if(this.purchasedShopUpgrades[e.modName])return!0;if("menu_lights"===e.modName||"modXenonColor"===e.modName)return!!this.purchasedShopUpgrades["modXenon"];if("modFrontWheelsTypes"===e.modName)for(var n=0;n<=12;n++)if(this.purchasedShopUpgrades["modFrontWheelsType"+n])return!0;return!1},selectLevel1:function(e){u(),this.selectedLevel1=e,this.selectedLevel2=null,this.selectedLevel3=null,this.$store.commit("unsetPreview")},selectLevel2:function(e){u(),this.selectedLevel2=e,this.$store.commit("unsetPreview"),"resprays"!==this.selectedLevel1&&(this.selectedLevel3=null),"rgb"!=this.selectedLevel3||this.isColorTypeSelected||(this.selectedLevel3=null)},selectLevel3:function(e){u(),this.selectedLevel3=e,"resprays"!==this.selectedLevel1&&"modFrontWheelsColor"!==this.selectedLevel2&&this.$store.commit("unsetPreview")},unsetAllLevels:function(){this.selectedLevel1=null,this.selectedLevel2=null,this.selectedLevel3=null},unsetLevel1:function(){u(),this.selectedLevel1=null},unsetLevel2:function(){u(),this.selectedLevel2=null},unsetLevel3:function(){u(),this.selectedLevel3=null},getSelectedModName:function(){return this.has3Levels?"resprays"===this.selectedLevel1||"modFrontWheelsColor"===this.selectedLevel2?this.selectedLevel2:this.selectedLevel3:this.selectedLevel2},getSelectedModType:function(){return this.has3Levels?"resprays"===this.selectedLevel1||"modFrontWheelsColor"===this.selectedLevel2?this.tuningLevel2Options.modType:this.tuningLevel3Options.modType:this.tuningLevel2Options.modType},previewTuningOption:function(e){var t=this.getSelectedModName(),n=this.getSelectedModType();null!==n&&void 0!==n||(n=t),this.$store.commit("previewTuning",[t,n,e])}}},be=ye,Te=(n("aaf8"),Object(U["a"])(be,A,C,!1,null,"8cb7ef08",null)),Oe=Te.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"confirm-selection":!0,show:e.previewModName,"left-side":"right"!=e.side,"right-side":"right"==e.side}},[e.previewModName?n("button",{staticClass:"confirm",on:{click:e.confirm}},[e._v(e._s(e.translations.NUI_CONFIRM_SELECTION))]):e._e(),e.previewModName?n("button",{staticClass:"cancel",on:{click:e.cancel}},[e._v(e._s(e.translations.NUI_CANCEL))]):e._e()])},Ie=[],Ne={computed:{side:function(){return this.$store.state.side},previewModName:function(){return this.$store.state.previewModName},previewModType:function(){return this.$store.state.previewModType},previewModTypeIndex:function(){return this.$store.state.previewModTypeIndex},translations:function(){return this.$store.state.translations}},methods:{confirm:function(){this.$store.commit("resetPreview"),c()},cancel:function(){this.$emit("cancelSelection")}}},Me=Ne,Pe=(n("3f30"),Object(U["a"])(Me,Ue,Ie,!1,null,"62674d6d",null)),_e=Pe.exports,Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"drag-container"},[s("div",{ref:"mouse",class:{"mouse-thing":!0,"opacity-animate":!0,hidden:!0,shown:e.shouldHintBeVisible&&e.isShown}},[e.isMoving?e._e():s("img",{attrs:{src:n("d571")}}),e.isMoving?s("img",{attrs:{src:n("631e")}}):e._e()]),s("div",{class:{"text-hint":!0,"opacity-animate":!0,hidden:!0,shown:e.shouldHintBeVisible&&e.isShown},domProps:{innerHTML:e._s(e.translations.NUI_CLICK_AND_DRAG)}})])},Ee=[],ke=(n("99af"),{props:["shouldHintBeVisible"],data:function(){return{stepsLeft:135,curLeft:275,curTop:0,downStep:3,isShown:!1,isMoving:!1}},mounted:function(){this.showHint()},computed:{translations:function(){return this.$store.state.translations}},methods:{showHint:function(){var e=this;this.shouldHintBeVisible&&setTimeout((function(){e.stepsLeft=135,e.curLeft=275,e.curTop=0,e.downStep=3,e.$refs.mouse.style.transform="translateX(".concat(e.curLeft,"px) translateY(").concat(e.curTop,"px)"),e.isShown=!0,setTimeout((function(){e.isMoving=!0,setTimeout((function(){e.onUpdate()}),500)}),500)}),1e3)},hideHint:function(){this.isShown=!1},onUpdate:function(){var e=this;this.stepsLeft=this.stepsLeft-1,this.stepsLeft>0?(this.curLeft-=2,this.curTop+=this.downStep,this.downStep-=.03,this.$refs.mouse.style.transform="translateX(".concat(this.curLeft,"px) translateY(").concat(this.curTop,"px)"),setTimeout(this.onUpdate,10)):(this.isMoving=!1,setTimeout((function(){e.hideHint(),setTimeout((function(){e.showHint()}),1e3)}),1e3))}}}),xe=ke,Re=(n("3b21"),Object(U["a"])(xe,Se,Ee,!1,null,null,null)),je=Re.exports,We={name:"App",components:{Tuning:Oe,ConfirmSelection:_e,DragHint:je},computed:{isShown:function(){return this.$store.state.isShown}},data:function(){return{isMouseOverContainer:!1,isMouseDown:!1,lastX:null,lastY:null,lastMouseUpdateAt:null,hasPanned:!1}},mounted:function(){window.addEventListener("message",this.onEvent),document.onmousemove=this.onMouseMove,document.onmousedown=this.onMouseDown,document.onmouseup=this.onMouseUp,r(window).on("keyup",(function(e){113!=e.which&&27!=e.which||(e.preventDefault(),l())}))},beforeDestroy:function(){window.removeEventListener("message",this.onEvent),document.onmousemove=null,document.onmousedown=null,document.onmouseup=null},methods:{cancelSelection:function(){this.$store.commit("unsetPreview")},onMouseOver:function(){this.isMouseOverContainer=!0},onMouseLeave:function(){this.isMouseOverContainer=!1},onMouseMove:function(e){var t=e.clientX,n=e.clientY;if(this.isMouseDown){var s=(new Date).getTime();if(this.lastX){if(s-this.lastMouseUpdateAt>10){var i=t-this.lastX,o=n-this.lastY;this.lastMouseUpdateAt=s,this.lastX=t,this.lastY=n,this.hasPanned=!0,h(i/window.innerWidth,o/window.innerHeight)}}else this.lastMouseUpdateAt=s,this.lastX=t,this.lastY=n}},onMouseDown:function(e){0!==e.button||this.isMouseOverContainer||(this.isMouseDown=!0,this.lastX=null,this.lastY=null,this.lastMouseUpdateAt=null,v())},onMouseUp:function(e){0===e.button&&(this.isMouseDown=!1,this.lastX=null,this.lastY=null,this.lastMouseUpdateAt=null)},onEvent:function(e){"showui"==e.data.type?(this.show(e.data.options,e.data.installed,e.data.ordered,e.data.upgrades,e.data.totalCost,e.data.side,e.data.showPrices,e.data.controllingShop),this.$store.commit("setTranslations",e.data.translations)):"hideui"==e.data.type?this.hide():"setOrderedTuning"==e.data.type&&(this.$store.commit("setOrderedUpgrades",e.data.orderedTuning),this.$store.commit("setTotalPrice",e.data.totalCost))},show:function(e,t,n,s,i,o,r,l){this.$store.commit("resetPreview"),this.$refs.tuning.unsetAllLevels(),e&&this.$store.commit("setTuningOptions",e),t&&this.$store.commit("setInstalledUpgrades",t),n&&this.$store.commit("setOrderedUpgrades",n),s&&this.$store.commit("setPurchasedShopUpgrades",s),i&&this.$store.commit("setTotalPrice",i),o&&this.$store.commit("setSide",o),null!=r&&this.$store.commit("setShowPrices",r),console.log(r,l,"controlling shop"),null!=l&&this.$store.commit("setControllingShop",l),this.$store.commit("showTuning")},hide:function(){this.$store.commit("hideTuning")}}},Ve=We,Fe=(n("034f"),Object(U["a"])(Ve,i,o,!1,null,null,null)),Ye=Fe.exports,He=n("3835"),Be=n("2f62");s["a"].use(Be["a"]);var Xe=new Be["a"].Store({state:{isShown:!1,translations:{NUI_CHANGE_CAMERA:"Change camera",NUI_PLAY_HORN:"Horn",NUI_LIGHTS:"Lights",NUI_CONFIRM_SELECTION:"Confirm Selection",NUI_CANCEL:"Cancel",NUI_CLICK_AND_DRAG:'<span class="accent">Click</span> and <span class="accent">drag</span> to move camera',NUI_CLOSE:"Close",NUI_ORDER:"Order",NUI_TOTAL:"Total",NUI_TITLE:"Mechanic"},side:"left",showPrices:!0,tuningOptions:[],installedUpgrades:{},orderedUpgrades:{},purchasedShopUpgrades:{},previewModName:null,previewModType:null,previewModTypeIndex:null,totalPrice:0},mutations:{showTuning:function(e){s["a"].set(e,"isShown",!0)},setTranslations:function(e,t){s["a"].set(e,"translations",t)},setSide:function(e,t){s["a"].set(e,"side",t)},setShowPrices:function(e,t){s["a"].set(e,"showPrices",t)},setControllingShop:function(e,t){s["a"].set(e,"controllingShop",t)},setTotalPrice:function(e,t){s["a"].set(e,"totalPrice",t)},hideTuning:function(e){s["a"].set(e,"isShown",!1)},previewTuning:function(e,t){var n=Object(He["a"])(t,3),i=n[0],o=n[1],r=n[2];s["a"].set(e,"previewModName",i),s["a"].set(e,"previewModType",o),s["a"].set(e,"previewModTypeIndex",r),d(i,o,r)},resetPreview:function(e){s["a"].set(e,"previewModName",null),s["a"].set(e,"previewModType",null),s["a"].set(e,"previewModTypeIndex",null)},unsetPreview:function(e){s["a"].set(e,"previewModName",null),s["a"].set(e,"previewModType",null),s["a"].set(e,"previewModTypeIndex",null),p()},setTuningOptions:function(e,t){s["a"].set(e,"tuningOptions",t)},setInstalledUpgrades:function(e,t){s["a"].set(e,"installedUpgrades",t)},setOrderedUpgrades:function(e,t){s["a"].set(e,"orderedUpgrades",t)},setPurchasedShopUpgrades:function(e,t){s["a"].set(e,"purchasedShopUpgrades",t)}},actions:{},modules:{}});s["a"].config.productionTip=!1,new s["a"]({store:Xe,render:function(e){return e(Ye)}}).$mount("#app")},"631e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAFoElEQVRIia1Xf0gbVxz/vnd3Se4SU1NNFC1tOjdru8JQCmWCWhDasv0ztr/tH8VC/9rG2B8OJy0VWxija1m7H4y1/zjGykppGU7XjaGrEBA2ZaNV0SJ1U4ymSbxoLsm998b3yIXMJqeFfeHxvbv37n0+35/3jkBe9u7da10IIVo0TTvm9XqvCiGYy+WCaDQKhmGA1+vFeSgWSql1h+tM0+w0TbMRAD7PZrOFVYuLi7BVqH0vSZK1iSRJbzLGLui6XmWaZmHj7QQJEUJeA4CPTdOsXl1dtQijLiWFXdEat9vdSCntZYz9YRhGlDFGkBAhlmM0AKgFgCAAhACgGgAIEiOEkEwmA7quj3HONc75JfQQPkPtCPz06VNceBZBKKVvKIryaiaTmdN1vUGWZVBV9Uwmk1men5//c2lp6TGldBzJoKVCiM+y2eyPHo/nrqqqX0uS1F1fX19XX18POByB19bWjpim2UUpHc1mszFkzTl/YW1tLYsu39zcrKirq4OxsbGagYEBbzweDwohJIxlLpfbpJSe9Pv9B30+32Uko6rq66qqonYGrq2trVcUpZoxNo4WEkI6JEn6QtO0RfRCOp3mFRUV0NbWBu3t7bYLJXQ1pfQTDEkymTwZj8cf4jPGWBNjDLUzsNvtthNJFMW1oMsJzhNCBGrTNAUS2klCFmf13wAQ5Zy3I0tCyC+MsbOc8z0O4Cwf4/eQ7MrKylA0Gj2c99jDPCln4Fwu97sQ4ltCSJsQIiCEOE8IWaCUehyI20Xt5Zz/5HK5ZgOBwNuYE4yxYSdXy/YFugsAPgWAdwghQ0KIVkrpfsjXaElUIWS0SAhhVUNlZeVbsiyfAYAvKaX/FIesrMWcc9xgHgAuUUoPU0qri0j956VcLgepVEpNpVIHi+OpaVoz53wjFAr1NTQ0QCAQAJ/P5wxsA+Ryuf5EIvGSoihWy8FyQVJ5y6x1fr8fWltbPcFg8Le5ublILBbrYYw1bm5ufmgYRqWu66vLy8tYopBIJJxdbQNzztOmaaZtMF3XLY0JY8uhQ4dgfHwcpqen6f37948+ePDg6PDw8CUAGNF1/a4kSaMul8sqq+L3ygKjRfl+bSdFOwAci8fjF1RVNbaWSVNTkzW6urosz9y4ceNEJBI5MTY2ZsZisclwOPyVEOJnAHhcFhgttB7IMuzatQutfGV9ff07RVFqfT5fGr1ekjoAJpWle3p6LD0zMyNfvHjxyJ07d/YHAgGc/GjrO89UOlrNOX8xFov92tHRUTs6OgrhcPh8Mpl8f7tmYsuBAwegpaUFw2QyxkoSLgDbxY5jY2Pj5VAoFDh37hw0NjbC7du3tWAwuOfJkyc7At6JFIDzPdcaPp/v7sLCwl+RSMSaw9IYGRkRqNPp9P8LXGwxxnn37t3fXLlyBdugNd/c3Exu3rwp8KTxHIKxkRyB7faGA1ueqqrXZmdnp69fvw52awwGg9bBYCeSzwdDCJFyBMbTQvFIp9OpqqqqD/r7+2FoaIgU9eXnkSXO+XSp9QX6W1sblpfb7Z6mlMqPHj1qP378OJaZyLvPUeLxOPT29qIBlz0ez/fJZJKXtbiUYGlVV1f3TU5OXu3s7CSRSETsxPLBwUGYmJhY8vv9g4qimI6uxoQqNTCm4XD43eXl5YHu7m5pZWVlW4vv3buHMf6BUrq6be1vBUVAzGCPx1MY2Iv7+vrEdnLq1Cn0ynksTUVRSuIVLEaQ4oFHoeLvKWZ7KBS6duvWLdiukdhfMbsvlDTUvti3b5/jZkjAMIypRCKRNgyj9NExL/i91jTN+jtBEjMzM+WByx28i8U0TcPlcq3LsuwIjCTRQ8W/MWWBdyKEEFzvnpqasjZNJpPPvIZfqvX1dStUTvJcwJIkmYSQ1dOnT2vZbHajVPyw/quqqgI1NTXpcgc9AIB/ASNY0SeEBuKTAAAAAElFTkSuQmCC"},"6bd7":function(e,t,n){"use strict";var s=n("8275"),i=n.n(s);i.a},"7e97":function(e,t,n){},"7fd8":function(e,t,n){},8275:function(e,t,n){},"85ec":function(e,t,n){},"98c1":function(e,t,n){},aaf8:function(e,t,n){"use strict";var s=n("98c1"),i=n.n(s);i.a},b48b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEfklEQVR4nO1az28bRRR+U4I1K6zIVuiBAycuVFRISJCKKlGgF/dS7DoYKrugRNATN5CQKqEiinrhQP6BKhaoF9ys44JcEbhw4IraAyqqEVIlENyaCFRvTQ0fh6zX+2PW3plde0K9n/QU7/PsvO99M34zO1kGgGYZh3QT0I1UAN0EdCMVQDcB3UgF0E1AN1IBdBPQjVQA3QR0Yy5qQ8aYUgAAzxPRcZc9GdL0DhHdJKLviWiHMfajYjz5G6KYZJ85AOcA/AZ1/ALgPQC5SeTj5JWkAAAWAGzETNyPXwF8GlUIbQIAWAJwJ8HERUIcP5ACYH/Up4WNAyUAgPr0cndQPxACQE/yAwhFEHEfZcr7AJvAmur9CWAtTAQpRFXKd8/ZwTBYluVYuVwGEXntUQLNuSzG9d3du6KZ8I5KPk5esgIAeBbA724But0uyquC5MmXTEwrlosiAXoAnlIVIPJO0IVPiOgJt4MxRoyGO8VGozH88pAtBVP7e697j9bfWh/HaYOIXlHIRW4GAHjJL79lWehaXWfEK5WKaJSUsbu7i2K56MwCAXq2FWTyGZhsEXwz4OkTsf5w9DNGRmkgwpDL5SjzSIaovx+r83PH3yRj2+sq/UcWAMA8EQnnotk0nc+LLyyq8BiJSqXifL7duR3WbN3mKAWZGRCusOtB8djiMVkOUuh0AjPAjddk+5MR4MUojSYhgHsGjMHYZwU/ZFaB50TO+/37dLV11enp0seXnCoOYP8cIcZ1r9fzLMM3frghzXEUmLvzMRA23Nvbo/zh/NDRl6UgB845WZY1qonUyU2sI7Fms0mtL1txupAGI0a1Wo2azWYyHUqsmR6YpgnOeWCnRqLdYAJWPl3GkaePgHPu2NbWlmhfMJmtsD9K7UwNfI4jfziP7eY28ADAA8D6y0L5dMi2WMFOvHzCE7e11UIum0M+m8fa2bXYAsQ/FQZR6VTJ47ry2ZXY3Q5w4cMLnutiseiJHRexBSieKgZ8qifIIqysrAR8pVJpv9QlEEZGgJsi57Wvrg0v7BExt01RUyVc/OhiwNdqtYSP6RTCcSQkfi+bniLYNMGzHESEpeUltK+30b7eRqPRSLwAnv/gPNrfttH+pg3DMMA5h8ENmKbp//1vTrIInvNHq75RnVjVD7PBClCr1UQF8O1JCjAviri8vCwkmgREs8ngBqrVatgt8xL5yK0CjLE/iage+AklUYolMCJe3eYoBdlV4HO/I/tY1nNtGAZxzmV5CLHw+ELAx/5hRP96XH/b9oVKDCkBGGPfEdGO2+cfEUR/tlACANH6/zVjbEfQfCxU9gHvE9Efg4uThZOeL1kSi7ONo88cDfgYMVp9ddXvflc5SNRi4bvHORa/9dMtFAoFT5UO2aMr4fLmZU8RrJ0JVP/pHou7AtUTy1IdwaI8LQEOgAiB5KcugEYRhMlrEcAOOrv/HncFnt0XJFzBZ/cVGR+J/81LUpFPhR/W1+RkjsUfSsz8m6KpALoJ6EYqgG4CupEKoJuAbqQC6CagG6kAugnoxn9vuCjMikRAegAAAABJRU5ErkJggg=="},c51f:function(e,t,n){},cb31:function(e,t,n){"use strict";var s=n("3a27"),i=n.n(s);i.a},d571:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAADuklEQVRIieWWwUvjeBTHX9I2mtgaa0lqZWmDpuo6h0EvAwV1LzJ/hR7EPe8u7C47B3FYkb2KjKcBPc1F8DAyiMWFxY5ijyO7LLXUQQprKWNMa6tNa5Lf8jJ2WDW1GUHmsF/IIfn9fu/z+733fu8F/nei7A5MCLn23tvbC5VKhWtra2snhBhX60wAUDKZDGnmNIq6jaGdeNrtdgPLst9Wq9Xc4eHhn8fHx+9pmt4FAO6+kXIE1nUdLi4ufN3d3ZBIJILz8/NtqqoKhBDXg4LRVZVKxfT5fDAyMgKjo6OgaRoOPSz4IeT4xA1kfKkTN83oRnI7sk7s7RNC3HjVcBwzP51OXxuPRqMNvXUvV19eXkK5XGbL5fLXNN3YhN/vB6/Xe3+waZoWvH7y9vZ2iMVirYIgvM1kMklFUX4xDKPv5rqTkxMoFAq2Nm1djTsVRdECqqpqQdGVdQ0ODsLu7i6kUil6a2vryc7OzpPNzc3feJ6Pl0ql16FQaJthmL/RG/9d1xTscrnAMKyEHQWAb1RV/ZVlWe2mWwcGBqxnYmICarUaLC8vP00mk08TiYSuKMo7SZJeEkJ+B4D3zbxqqaenB2RZfiyKYq6rq4vwPP8Tz/PfjY+PEydKpVJkcnKS+Hy+k3A4/LMdwzbGpmnKiqL8MTY21rW9vQ2SJD0vFos/3nGfr6m/vx+Gh4ehVCrphmHUHIPPz88fiaLon52dhb6+PlhbW+MEQfgqm806AjuRLdjr9b4+Ojr6K5lMWu94V+PxOLlqjw8Hxkzs7Ox8tbCwAPl83vo2NDREraysEIZhPsc+1aiR2IKxDbIs+yKdTqeWlpagXhoFQaAw4x0RP+aDRggpOwZXq1V0aTkQCDybm5uDjY0N6p51+dg0zZTj2aFQCILBIEQiESwmc7FYjGSzWRN/e5xcp9PTU4JrRFH8IRKJOOoH18DhcNgq9BzHLUSjUbK3t6cTQsxm4MXFReLxeP6RZVmQZdmW0TC56g/GVJKk73O53Pz09LQrn883vczr6+sY4zc0TX9wevc/gRGIGdza2vrpAYD4zMxMU1dj1QKA51hiPR6P8xMjsKWlxYLXd4y1WxTFF6urq9CskNS7GIIbtU3bwGNS3RRuQNO0/UKhUNE0jb0LjP2a4zgrR3ATBwcHzsBXf5C3pOu6xjDMmdvtvhOMm0QPYcdqJOep/tEgzm/Z39+3jBaLxVtzOjo64OzszArVXfossMvl0imK+jA1NcXVarVzu/jhz0MgEPAHg8HKVU+/LQD4F/6aAmTjZqbOAAAAAElFTkSuQmCC"},e725:function(e,t,n){"use strict";var s=n("1d2e"),i=n.n(s);i.a},e85f:function(e,t,n){},ebd8:function(e,t,n){"use strict";var s=n("e85f"),i=n.n(s);i.a},fdc1:function(e,t,n){}});